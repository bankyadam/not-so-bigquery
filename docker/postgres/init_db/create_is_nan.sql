CREATE OR REPLACE FUNCTION IS_NAN(num FLOAT8)
    RETURNS BOOLEAN AS
$$
DECLARE
BEGIN
    RETURN num = FLOAT8 'NaN';
END;
$$ LANGUAGE plpgsql;
